<?xml version="1.0" encoding="UTF-8"?>
<!--

    Licensed Materials - Property of IBM
    5725-I43 (C) Copyright IBM Corp. 2011, 2016. All Rights Reserved.
    US Government Users Restricted Rights - Use, duplication or
    disclosure restricted by GSA ADP Schedule Contract with IBM Corp.

-->

<project basedir="." default="help">

	<!-- Start of Property Passwords
        Enter the password value or "************" to be prompted interactively
  -->
	<property name="database.db2.appcenter.password" value="Tlogic@123"/>
	<!-- End of Property Passwords -->

	<!-- Start of Property Parameters -->
	<property name="mfp.server.install.dir" value="/opt/IBM/MobileFirst_Platform_Server"/>
	<!--  The directory with binaries of the 'aapt' program, from the Android SDK's platform-tools package.  -->
	<property name="android.aapt.dir" value="${mfp.server.install.dir}/ApplicationCenter/tools/android-sdk"/>
	<property name="appcenter.admin.user1" value="admin"/>
	<property name="appcenter.admin.user1.password" value="admin"/>

	<!--
     Database settings for DB2.
        If you did not manually create the database(s) and users
        run the the databases target with the create-appcenter-database-db2.xml file,
        which includes DBA credentials.
  -->
	<property name="database.db2.host" value="hostname"/>
	<property name="database.db2.port" value="50000"/>
	<property name="database.db2.instance" value="db2inst1"/>
	<property name="database.db2.driver.dir" value="/Installers"/>
	<property name="database.db2.appcenter.dbname" value="APPCNTR"/>
	<property name="database.db2.appcenter.schema" value="APPCNTR"/>
	<property name="database.db2.appcenter.username" value="db2inst1"/>

	<!-- Enable the below SSL settings if DB2 instance is configured to use SSL .. -->

	<!--
			
		  <property name="database.db2.ssl.sslConnection" value="****UPDATE**** - SSL configuration (example: true or false)"/>
		  <property name="database.db2.ssl.trustStoreLocation" value="****UPDATE**** - Location of the trustStore file (example: /opt/IBM/SSL/trustStore.jks"/>
		  <property name="database.db2.ssl.trustStorePassword" value="****UPDATE**** - password given for the trustStore.jks file"/>
		  		  
		-->

	<!--
      Application Server.
  -->
	<property name="appserver.was.installdir" value="/Installers/Liberty/wlp"/>
	<property name="appserver.was.profile" value="Liberty"/>
	<property name="appserver.was85liberty.serverInstance" value="mfp"/>
	<!-- End of Property Parameters -->

	<!-- Meta properties for internal use -->
	<property name="appcenter.config.parameters.version" value="1.0"/>

	<taskdef resource="com/ibm/mfp/ant/defaults.properties">
		<classpath>
			<fileset dir="${mfp.server.install.dir}/MobileFirstServer">
				<include name="mfp-ant-deployer.jar"/>
			</fileset>
		</classpath>
	</taskdef>

	<!-- Start of the databases target Generated by Application Center -->
	<target name="databases">
		<configuredatabase kind="ApplicationCenter">
			<db2 database="${database.db2.appcenter.dbname}"
           server="${database.db2.host}"
           instance="${database.db2.instance}"
           user="${database.db2.appcenter.username}"
           port= "${database.db2.port}"
           schema = "${database.db2.appcenter.schema}"
           password="${database.db2.appcenter.password}">
				<!-- Enable the below SSL parameters if DB2 instance is configured to use SSL .. -->

				<!--  sslConnection="${database.db2.ssl.sslConnection}" -->
				<!--  sslTrustStoreLocation="${database.db2.ssl.trustStoreLocation}"  -->
				<!--  sslTrustStorePassword="${database.db2.ssl.trustStorePassword}"> -->

			</db2>
			<driverclasspath>
				<fileset dir="${database.db2.driver.dir}">
					<include name="db2jcc4.jar"/>
					<include name="db2jcc_license_*.jar"/>
				</fileset>
			</driverclasspath>
		</configuredatabase>
	</target>
	<!-- End of the databases target Generated by Application Center -->

	<!-- Start of the install target Generated by Application Center -->
	<target name="install">
		<installApplicationCenter aaptDir="${android.aapt.dir}">
			<console>
			</console>
			<applicationserver>
				<websphereapplicationserver installdir="${appserver.was.installdir}"
                                    profile="${appserver.was.profile}">
					<server name="${appserver.was85liberty.serverInstance}"/>
				</websphereapplicationserver>
			</applicationserver>
			<user name="${appcenter.admin.user1}" role="appcenteradmin" password="${appcenter.admin.user1.password}"/>
			<database kind="ApplicationCenter">
				<db2 database="${database.db2.appcenter.dbname}"
             server="${database.db2.host}"
             user="${database.db2.appcenter.username}"
             port= "${database.db2.port}"
             schema = "${database.db2.appcenter.schema}"
             password="${database.db2.appcenter.password}">
					<!-- Enable the below SSL parameters if DB2 instance is configured to use SSL .. -->

					<!-- sslConnection="${database.db2.ssl.sslConnection}"  -->
					<!-- sslTrustStoreLocation="${database.db2.ssl.trustStoreLocation}"  -->
					<!-- sslTrustStorePassword="${database.db2.ssl.trustStorePassword}">  -->
				</db2>
				<driverclasspath>
					<fileset dir="${database.db2.driver.dir}">
						<include name="db2jcc4.jar"/>
						<include name="db2jcc_license_*.jar"/>
					</fileset>
				</driverclasspath>
			</database>
		</installApplicationCenter>
	</target>
	<!-- End of the install target Generated by Application Center -->

	<!-- Start of the update target Generated by Application Center -->
	<target name="update">
		<updateApplicationCenter aaptDir="${android.aapt.dir}">
			<console>
			</console>
			<applicationserver>
				<websphereapplicationserver installdir="${appserver.was.installdir}"
                                    profile="${appserver.was.profile}">
					<server name="${appserver.was85liberty.serverInstance}"/>
				</websphereapplicationserver>
			</applicationserver>
			<user name="${appcenter.admin.user1}" role="appcenteradmin" password="${appcenter.admin.user1.password}"/>
			<database kind="ApplicationCenter">
				<db2 database="${database.db2.appcenter.dbname}"
             server="${database.db2.host}"
             user="${database.db2.appcenter.username}"
             port= "${database.db2.port}"
             schema = "${database.db2.appcenter.schema}"
             password="${database.db2.appcenter.password}">
					<!-- Enable the below SSL parameters if DB2 instance is configured to use SSL .. -->

					<!-- sslConnection="${database.db2.ssl.sslConnection}"  -->
					<!-- sslTrustStoreLocation="${database.db2.ssl.trustStoreLocation}"  -->
					<!-- sslTrustStorePassword="${database.db2.ssl.trustStorePassword}">  -->					
				</db2>
				<driverclasspath>
					<fileset dir="${database.db2.driver.dir}">
						<include name="db2jcc4.jar"/>
						<include name="db2jcc_license_*.jar"/>
					</fileset>
				</driverclasspath>
			</database>
		</updateApplicationCenter>
	</target>
	<!-- End of the update target Generated by Application Center -->

	<!-- Start of the uninstall target Generated by Application Center -->
	<target name="uninstall">
		<uninstallApplicationCenter aaptDir="${android.aapt.dir}">
			<console>
			</console>
			<applicationserver>
				<websphereapplicationserver installdir="${appserver.was.installdir}"
                                    profile="${appserver.was.profile}">
					<server name="${appserver.was85liberty.serverInstance}"/>
				</websphereapplicationserver>
			</applicationserver>
			<user name="${appcenter.admin.user1}" role="appcenteradmin" password="${appcenter.admin.user1.password}"/>
			<database kind="ApplicationCenter">
				<db2 database="${database.db2.appcenter.dbname}"
             server="${database.db2.host}"
             user="${database.db2.appcenter.username}"
             port= "${database.db2.port}"
             schema = "${database.db2.appcenter.schema}"
             password="${database.db2.appcenter.password}">
					<!-- Enable the below SSL parameters if DB2 instance is configured to use SSL .. -->

					<!-- sslConnection="${database.db2.ssl.sslConnection}"  -->
					<!-- sslTrustStoreLocation="${database.db2.ssl.trustStoreLocation}"  -->
					<!-- sslTrustStorePassword="${database.db2.ssl.trustStorePassword}">  -->
					
				</db2>
				<driverclasspath>
					<fileset dir="${database.db2.driver.dir}">
						<include name="db2jcc4.jar"/>
						<include name="db2jcc_license_*.jar"/>
					</fileset>
				</driverclasspath>
			</database>
		</uninstallApplicationCenter>
	</target>
	<!-- End of the uninstall target Generated by Application Center -->

	<target name="help">
		<basename property="ant.file.basename" file="${ant.file}"/>
		<echo message="This ant project file can be used in the following ways:"/>
		<echo/>
		<echo message="ant -f ${ant.file.basename} databases"/>
		<echo message="Configures the database for use with Application Center."/>
		<echo/>
		<echo message="ant -f ${ant.file.basename} install"/>
		<echo message="Installs the Application Center Console and Services in the application server."/>
		<echo/>
		<echo message="ant -f ${ant.file.basename} update"/>
		<echo message="Updates the Application Center Console and Services in the application server."/>
		<echo/>
		<echo message="ant -f ${ant.file.basename} uninstall"/>
		<echo message="Uninstalls the Application Center Console and Services from the application server."/>
		<echo/>
	</target>
</project>
